{% extends 'index.html' %}
{% load static %}
{% block title %}Attendance | {{ course.name }} {% endblock title %}
{% comment %} {% block profile %}
{% url 'profile' faculty.faculty_id %}
{% endblock %}
{% block user %}
{{faculty.name}}
{% endblock user %}
{% block courses %}
{% url 'facultyCourses' %}
{% endblock courses %}
{% block allCourses %}
{% url 'courses' %}
{% endblock %} {% endcomment %}
{% block content %}
<div class="container" id="con">
   <!-- navigation links -->
   <div class="container shadow-sm">
      <nav aria-label="breadcrumb">
         <ol class="breadcrumb p-3">
            <li class="breadcrumb-item fw-bold"><a style="color: rgb(10, 10, 48)" href="{% url 'facultyCourses' %}">My
               Courses</a>
            </li>           
            <li class="breadcrumb-item fw-bold"><a style="color: rgb(10, 10, 48)"
               href="{% url 'course' course.code %}">{{ course.name }}</a></li>
               <li class="breadcrumb-item fw-bold" ><a style="color: rgb(10, 10, 48)"
                  href="{% url 'myQuizzes' course.code %}">My Quizzes</a></li>
            <li class="breadcrumb-item ">{{ quiz.title }}</a></li>
            <li class="breadcrumb-item active" aria-current="page">Quizz Result</li>
         </ol>
      </nav>
   </div>
   <!-- navigation links end -->
   <div class="container">
      <div class="container shadow-sm p-3 bg-info bg-opacity-10 border border-info rounded">
         <h4> {{quiz.title}} Summary</h4>
         <p>
            {{quiz.description}}
         </p>
         <p>Starts : {{quiz.start}}</p>
         <p>Ends : {{quiz.end}}</p>
         <p>Total Questions : {{quiz.total_questions}} </p>
         <p>Marks : {{quiz.total_marks_obtained}} / {{ quiz.total_marks}}</p>
         <p>Duration : {{ quiz.duration}} hours</p>
    

         
      </div>
      {% for question in questions  %}
      {% comment %} show all question with correct ans checked {% endcomment %}
      <div class="questionInd container mb-2 shadow-sm p-3 border rounded {% if question.student_answer == question.answer  %} border-success {% else %} border-danger {% endif %} ">
         <div>
            <div class="d-flex justify-content-between mb-3">
               <div>
                  <span><span class="fw-bold fs-5">{{forloop.counter}}.</span> <span class="me-3"> {{question.question}} </span>{{question.marks}} marks
               </div>
               {% if question.student_answer == question.answer  %} <span class="text-success fw-bold"> <img class="mb-1" height ="18" src="{% static 'images/icon/tick.png' %}" alt=""> Correct </span> {% else %} <span class="text-danger fw-bold"> <img height ="16" class="mb-1" src="{% static 'images/icon/cross.png' %}" alt=""> Incorrect </span>  {% endif %} 
            </div>
            <div>
               
               <p {% if question.student_answer == question.answer and question.answer == 'A' %} class="alert alert-success" {% elif question.student_answer != question.answer and question.student_answer == 'A' %} class="alert alert-danger" {% else %} class="alert alert-light border" {% endif %} style="padding: 0.60rem !important">A : {{question.option1}} </p>
               <p {% if question.student_answer == question.answer and question.answer == 'B' %} class="alert alert-success" {% elif question.student_answer != question.answer and question.student_answer == 'B' %} class="alert alert-danger" {% else %} class="alert alert-light border" {% endif %} style="padding: 0.60rem !important">B : {{question.option2}} </p>
               <p {% if question.student_answer == question.answer and question.answer == 'C' %} class="alert alert-success" {% elif question.student_answer != question.answer and question.student_answer == 'C' %} class="alert alert-danger" {% else %} class="alert alert-light border" {% endif %} style="padding: 0.60rem !important">C : {{question.option3}} </p>
               <p {% if question.student_answer == question.answer and question.answer == 'D' %} class="alert alert-success" {% elif question.student_answer != question.answer and question.student_answer == 'D' %} class="alert alert-danger" {% else %} class="alert alert-light border" {% endif %} style="padding: 0.60rem !important">D : {{question.option4}} </p>
            </div>
         </div>
         <div>
            {% if question.student_answer %}
         Your response  <span class="fw-bold"> {{ question.student_answer }} : {{question.get_answer}}</span>
         {% else %}
         <span> You did not answer!</span>
         {% endif %}

         </div>
         <div>
            Correct answer  <span class="fw-bold text-italic"> {{ question.answer }} : {{question.get_answer}}</span>
         </div>
      </div>
      {% endfor %}
   </div>
</div>


<script>
   $(document).ready(function () {
      $('#con').css('min-height', $(window).height());
   });


let questionInd = document.querySelectorAll('.questionInd');
anime({
   targets: questionInd,
   opacity: [0, 1],
   easing: 'easeInOutQuad',
   duration: 1500,
   delay: function (el, i) {
      return i * 250;
   }
});


</script>
{% endblock %}